import _0x394dbf from'node-fetch';import _0xa81e2c from'node-gtts';import{readFileSync,unlinkSync}from'fs';import{join}from'path';import _0x3d84e0 from'axios';import _0x22fab7 from'@vitalets/google-translate-api';import{Configuration,OpenAIApi}from'openai';const configuration=new Configuration({'organization':global['openai_org_id'],'apiKey':global['openai_key']}),openaiii=new OpenAIApi(configuration),idioma='es',sistema1='Actuarás como un Bot de WhatsApp creado por HEROKER, serás HEROKER-bot.',handler=async(_0xc6c254,{conn:_0x50814f,text:_0x5e32cb,usedPrefix:_0x1de24c,command:_0x410900})=>{if(_0x1de24c=='a'||_0x1de24c=='A')return;if(!_0x5e32cb)throw'[❗] Ingrese la pregunta para la que desea la respuesta. \x0a\x0a Un ejemplo\x0a*◉ '+(_0x1de24c+_0x410900)+'Reflexión sobre la serie Merlina 2022 de Netflix\x0a'+(_0x1de24c+_0x410900)+'Código JS para un juego de cartas.';try{_0x50814f['sendPresenceUpdate']('composing',_0xc6c254['chat']);async function _0x36b7d1(_0x3a8462){const _0x10a34a=global['openai_key'];let _0x273a0b=global['chatgpt']['data']['users'][_0xc6c254['sender']];_0x273a0b['push']({'role':'user','content':_0x3a8462});const _0x45bf61='https://api.openai.com/v1/chat/completions',_0x4ffd1f={'Content-Type':'application/json','Authorization':'Bearer '+_0x10a34a},_0x582fe3={'model':'gpt-3.5-turbo','messages':[{'role':'system','content':sistema1},..._0x273a0b]},_0x63e5b3=await _0x394dbf(_0x45bf61,{'method':'POST','headers':_0x4ffd1f,'body':JSON['stringify'](_0x582fe3)}),_0x1ce4fd=await _0x63e5b3['json'](),_0xb7bdcc=_0x1ce4fd['choices'][0x0]['message']['content'];return _0xb7bdcc;};let _0x577197=await _0x36b7d1(_0x5e32cb);if(_0x577197=='error'||_0x577197==''||!_0x577197)return XD;const _0x2356f6=await tts(_0x577197,idioma);await _0x50814f['sendMessage'](_0xc6c254['chat'],{'audio':_0x2356f6,'fileName':'error.mp3','mimetype':'audio/mpeg','ptt':!![]},{'quoted':_0xc6c254});}catch{try{_0x50814f['sendPresenceUpdate']('composing',_0xc6c254['chat']);const _0x2883e7=await openaiii['createCompletion']({'model':'text-davinci-003','prompt':_0x5e32cb,'temperature':0.3,'max_tokens':0x1001,'stop':['Ai:','Human:'],'top_p':0x1,'frequency_penalty':0.2,'presence_penalty':0x0});if(_0x2883e7['data']['choices'][0x0]['text']=='error'||_0x2883e7['data']['choices'][0x0]['text']==''||!_0x2883e7['data']['choices'][0x0]['text'])return XD;const _0x25060c=await tts(_0x2883e7['data']['choices'][0x0]['text'],idioma);await _0x50814f['sendMessage'](_0xc6c254['chat'],{'audio':_0x25060c,'fileName':'error.mp3','mimetype':'audio/mpeg','ptt':!![]},{'quoted':_0xc6c254});}catch{try{_0x50814f['sendPresenceUpdate']('composing',_0xc6c254['chat']);const _0x393e44=await _0x394dbf('https://api-fgmods.ddns.net/api/info/openai?text='+_0x5e32cb+'&symsg='+sistema1+'&apikey=XlwAnX8d'),_0x1e8d4a=await _0x393e44['json']();if(_0x1e8d4a['result']=='error'||_0x1e8d4a['result']==''||!_0x1e8d4a['result'])return XD;const _0x205579=await tts(_0x1e8d4a['result'],idioma);await _0x50814f['sendMessage'](_0xc6c254['chat'],{'audio':_0x205579,'fileName':'error.mp3','mimetype':'audio/mpeg','ptt':!![]},{'quoted':_0xc6c254});}catch{try{_0x50814f['sendPresenceUpdate']('composing',_0xc6c254['chat']);const _0x4a6875=await _0x394dbf('https://vihangayt.me/tools/chatgpt?q='+_0x5e32cb),_0x297f34=await _0x4a6875['json']();if(_0x297f34['data']=='error'||_0x297f34['data']==''||!_0x297f34['data'])return XD;const _0x2bf85b=await tts(_0x297f34['data'],idioma);await _0x50814f['sendMessage'](_0xc6c254['chat'],{'audio':_0x2bf85b,'fileName':'error.mp3','mimetype':'audio/mpeg','ptt':!![]},{'quoted':_0xc6c254});}catch{try{_0x50814f['sendPresenceUpdate']('composing',_0xc6c254['chat']);const _0x2f7834=await _0x394dbf('https://vihangayt.me/tools/chatgpt2?q='+_0x5e32cb),_0x4d3be7=await _0x2f7834['json']();if(_0x4d3be7['data']=='error'||_0x4d3be7['data']==''||!_0x4d3be7['data'])return XD;const _0x2a0a3d=await tts(_0x4d3be7['data'],idioma);await _0x50814f['sendMessage'](_0xc6c254['chat'],{'audio':_0x2a0a3d,'fileName':'error.mp3','mimetype':'audio/mpeg','ptt':!![]},{'quoted':_0xc6c254});}catch{try{_0x50814f['sendPresenceUpdate']('composing',_0xc6c254['chat']);const _0x172b13=await _0x394dbf('https://vihangayt.me/tools/chatgpt3?q='+_0x5e32cb),_0x1e410c=await _0x172b13['json']();if(_0x1e410c['data']=='error'||_0x1e410c['data']==''||!_0x1e410c['data'])return XD;const _0x38ee76=await tts(_0x1e410c['data'],idioma);await _0x50814f['sendMessage'](_0xc6c254['chat'],{'audio':_0x38ee76,'fileName':'error.mp3','mimetype':'audio/mpeg','ptt':!![]},{'quoted':_0xc6c254});}catch{try{_0x50814f['sendPresenceUpdate']('composing',_0xc6c254['chat']);const _0x1e82d0=await _0x394dbf('https://api.lolhuman.xyz/api/openai?apikey='+lolkeysapi+'&text='+_0x5e32cb+'&user='+_0xc6c254['sender']),_0x540dea=await _0x1e82d0['json']();if(_0x540dea['result']=='error'||_0x540dea['result']==''||!_0x540dea['result'])return XD;const _0x1f13cd=await _0x22fab7(''+_0x540dea['result'],{'to':idioma,'autoCorrect':!![]}),_0x5f213e=await tts(_0x1f13cd['text'],idioma);await _0x50814f['sendMessage'](_0xc6c254['chat'],{'audio':_0x5f213e,'fileName':'error.mp3','mimetype':'audio/mpeg','ptt':!![]},{'quoted':_0xc6c254});}catch{try{_0x50814f['sendPresenceUpdate']('composing',_0xc6c254['chat']);const _0x21e15a=' Indonesia ',_0x184947=' español ',_0x2fc25a=await _0x394dbf('https://api.ibeng.tech/api/others/chatgpt?q=Hola&apikey=eMlBNRzUXv'),_0x3eb9ff=await _0x2fc25a['json']();if(_0x3eb9ff['data']=='error'||_0x3eb9ff['data']==''||!_0x3eb9ff['data'])return XD;const _0x1bbbea=await _0x22fab7(''+_0x3eb9ff['data'],{'to':idioma,'autoCorrect':!![]}),_0x506934=_0x1bbbea['text'],_0x5d3156=_0x506934['replace'](_0x21e15a,_0x184947)['trim'](),_0xc3e523=await tts(_0x5d3156,idioma);await _0x50814f['sendMessage'](_0xc6c254['chat'],{'audio':_0xc3e523,'fileName':'error.mp3','mimetype':'audio/mpeg','ptt':!![]},{'quoted':_0xc6c254});}catch{try{_0x50814f['sendPresenceUpdate']('composing',_0xc6c254['chat']);const _0xe50c37=await _0x394dbf('https://api.akuari.my.id/ai/gpt?chat='+_0x5e32cb),_0x2c8164=await _0xe50c37['json']();if(_0x2c8164['respon']=='error'||_0x2c8164['respon']==''||!_0x2c8164['respon'])return XD;const _0x1a856c=await _0x22fab7(''+_0x2c8164['respon'],{'to':'es','autoCorrect':!![]}),_0x5eff2c=await tts(_0x1a856c['text'],idioma);await _0x50814f['sendMessage'](_0xc6c254['chat'],{'audio':_0x5eff2c,'fileName':'error.mp3','mimetype':'audio/mpeg','ptt':!![]},{'quoted':_0xc6c254});}catch{try{_0x50814f['sendPresenceUpdate']('composing',_0xc6c254['chat']);const _0x4a1869=await _0x394dbf('https://api.akuari.my.id/ai/gbard?chat='+_0x5e32cb),_0x1f25be=await _0x4a1869['json']();if(_0x1f25be['respon']=='error'||_0x1f25be['respon']==''||!_0x1f25be['respon'])return XD;const _0x2f1cfd=await _0x22fab7(''+_0x1f25be['respon'],{'to':'es','autoCorrect':!![]}),_0x3c0690=await tts(_0x2f1cfd['text'],idioma);await _0x50814f['sendMessage'](_0xc6c254['chat'],{'audio':_0x3c0690,'fileName':'error.mp3','mimetype':'audio/mpeg','ptt':!![]},{'quoted':_0xc6c254});}catch{throw'❌se produjo un error, intente nuevamente❌';}}}}}}}}}}};handler['command']=/^(openaivoz|chatgptvoz|iavoz|robotvoz|openai2voz|chatgpt2voz|ia2voz|robot2voz|Hadesvoz|Hadesbotvoz|gptvoz|ai_voz|ai_voce|Herokervoz|Heroker-ia)$/i,handler['register']=!![],handler['premium']=!![];export default handler;async function tts(_0xe71c6a='error',_0x5bd085='es'){return new Promise((_0x4235bf,_0x4792e7)=>{try{const _0x232805=_0xa81e2c(_0x5bd085),_0x31c876=join(global['__dirname'](import.meta['url']),'../tmp',0x1*new Date()+'.wav');_0x232805['save'](_0x31c876,_0xe71c6a,()=>{_0x4235bf(readFileSync(_0x31c876)),unlinkSync(_0x31c876);});}catch(_0x3488c5){_0x4792e7(_0x3488c5);}});}